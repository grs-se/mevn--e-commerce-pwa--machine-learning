"use strict";(self["webpackChunkolx_vue_3"]=self["webpackChunkolx_vue_3"]||[]).push([[106],{3106:function(e,a,s){s.r(a),s.d(a,{default:function(){return W}});var t=s(6252),r=s(3577),i=s(9963);const l=e=>((0,t.dD)("data-v-5f8a2264"),e=e(),(0,t.Cn)(),e),o={class:"contact-from pt-4"},n={class:"container"},d={class:"row mt-12"},c={class:"col-md-6 mx-auto register"},m={class:"form-wrapper"},g=l((()=>(0,t._)("div",{class:"row"},[(0,t._)("div",{class:"col-md-12"},[(0,t._)("h4",null,"Register")])],-1))),u={class:"row"},p={key:0,class:"alert alert-danger",role:"alert"},h={class:"col-md-6"},_={class:"form-group"},f={class:"col-md-6"},D={class:"form-group"},R={class:"col-md-6"},v={class:"form-group"},w={class:"col-md-6"},L={class:"form-group"},y={class:"form-check form-check-inline"},P=l((()=>(0,t._)("label",{class:"form-check-label",for:"inlineRadio1"},"Male",-1))),E={class:"form-check form-check-inline"},k=l((()=>(0,t._)("label",{class:"form-check-label",for:"inlineRadio1"},"Female",-1))),U={class:"col-md-6"},S={class:"form-group"},b={class:"col-md-6"},F={class:"form-group"},G={class:"col-md-6"},N={class:"form-group"},V={class:"mt-3"},x={class:"col-md-6 mx-auto login"},C={class:"form-wrapper"},M=l((()=>(0,t._)("div",{class:"row"},[(0,t._)("div",{class:"col-md-12"},[(0,t._)("h4",null,"Login")])],-1))),A={class:"row"},Z={key:0,class:"alert alert-danger",role:"alert"},$={class:"col-md-6"},I={class:"form-group"},q={class:"col-md-6"},O={class:"form-group"},z={class:"mt-3"};function T(e,a,s,l,T,j){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("section",o,[(0,t._)("div",n,[(0,t._)("div",d,[(0,t._)("div",c,[(0,t._)("div",m,[g,(0,t._)("form",null,[(0,t._)("div",u,[""!==T.RegisterError?((0,t.wg)(),(0,t.iD)("div",p,(0,r.zw)(T.RegisterError),1)):(0,t.kq)("",!0),(0,t._)("div",h,[(0,t._)("div",_,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>T.RegisterData.FName=e),type:"text",class:"form-control",placeholder:"First name"},null,512),[[i.nr,T.RegisterData.FName]])])]),(0,t._)("div",f,[(0,t._)("div",D,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>T.RegisterData.LName=e),type:"text",class:"form-control",placeholder:"Last name"},null,512),[[i.nr,T.RegisterData.LName]])])]),(0,t._)("div",R,[(0,t._)("div",v,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>T.RegisterData.Email=e),type:"email",class:"form-control reg-email",placeholder:"Email"},null,512),[[i.nr,T.RegisterData.Email]])])]),(0,t._)("div",w,[(0,t._)("div",L,[(0,t._)("div",y,[(0,t.wy)((0,t._)("input",{id:"inlineRadio1","onUpdate:modelValue":a[3]||(a[3]=e=>T.RegisterData.GenderMale=e),class:"form-check-input",type:"radio",name:"inlineRadioOptions",value:"true"},null,512),[[i.G2,T.RegisterData.GenderMale]]),P]),(0,t._)("div",E,[(0,t.wy)((0,t._)("input",{id:"inlxineRadio2","onUpdate:modelValue":a[4]||(a[4]=e=>T.RegisterData.GenderFemale=e),class:"form-check-input",type:"radio",name:"inlineRadioOptions",value:"true"},null,512),[[i.G2,T.RegisterData.GenderFemale]]),k])])]),(0,t._)("div",U,[(0,t._)("div",S,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>T.RegisterData.Pass=e),type:"password",class:"form-control reg-pass",placeholder:"Password "},null,512),[[i.nr,T.RegisterData.Pass]])])]),(0,t._)("div",b,[(0,t._)("div",F,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>T.RegisterData.confirmPass=e),type:"password",class:"form-control confirm-pass",placeholder:"Confirm Password "},null,512),[[i.nr,T.RegisterData.confirmPass]])])]),(0,t._)("div",G,[(0,t._)("div",N,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>T.RegisterData.UserDate=e),type:"date",class:"form-control"},null,512),[[i.nr,T.RegisterData.UserDate]])])])]),(0,t._)("div",V,[(0,t._)("button",{class:"btn btn-primary register-input",onClick:a[8]||(a[8]=e=>j.Register(e))}," Register ")])])])]),(0,t._)("div",x,[(0,t._)("div",C,[M,(0,t._)("form",null,[(0,t._)("div",A,[T.LoginError?((0,t.wg)(),(0,t.iD)("div",Z," Invalid username or password ")):(0,t.kq)("",!0),(0,t._)("div",$,[(0,t._)("div",I,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>T.LoginData.Email=e),type:"email",class:"form-control email-input",placeholder:"Email"},null,512),[[i.nr,T.LoginData.Email]])])]),(0,t._)("div",q,[(0,t._)("div",O,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>T.LoginData.Password=e),type:"password",class:"form-control pass-input",placeholder:"Password"},null,512),[[i.nr,T.LoginData.Password]])])])]),(0,t._)("div",z,[(0,t._)("button",{class:"btn btn-primary login-btn",onClick:a[11]||(a[11]=e=>j.Login(e))}," Login ")])])])])])])])])}s(7658);var j=s(3907),B=s(8945);const H="https://olx-vue.herokuapp.com/api";var J={name:"LoginRegister",data(){return{RegisterData:{FName:"",LName:"",Email:"",GenderMale:!1,GenderFemale:!1,Pass:"",confirmPass:"",UserDate:[]},LoginData:{Email:"",Password:""},LoginError:!1,RegisterError:""}},computed:{...(0,j.Se)(["UserAuth"])},methods:{...(0,j.nv)(["SetUserAuth"]),Register:function(e){let a;e.preventDefault(),"true"==this.RegisterData.GenderMale?(this.RegisterData.GenderMale=!1,a={first_name:String(this.RegisterData.FName),last_name:String(this.RegisterData.LName),email:String(this.RegisterData.Email),password:String(this.RegisterData.confirmPass),gender:"male",birth_day:String(this.RegisterData.UserDate)}):(this.RegisterData.GenderFemale=!1,a={first_name:String(this.RegisterData.FName),last_name:String(this.RegisterData.LName),email:String(this.RegisterData.Email),password:String(this.RegisterData.confirmPass),gender:"female",birth_day:String(this.RegisterData.UserDate)}),this.RegisterData.Pass!==this.RegisterData.confirmPass?(this.RegisterError="Password not matched",this.RegisterData.Pass="",this.RegisterData.confirmPass=""):B.Z.post(`${H}/users`,a).then((e=>{console.log("Register res",e),this.LoginData.Email=e.data.email,this.LoginData.Password=this.RegisterData.confirmPass,this.RegisterError=""})).catch((e=>this.RegisterError=e.response.data))},Login:function(e){e.preventDefault(),console.log("Log",this.LoginData);let a={email:String(this.LoginData.Email),password:String(this.LoginData.Password)};B.Z.post(`${H}/auth`,a).then((e=>{s(e),this.LoginError=!1})).catch((e=>{this.LoginError=!0,console.log("err",e.response.data.msg)}));const s=e=>{B.Z.get(`${H}/users/UserData`,{headers:{"x-auth-token":String(e.data)}}).then((a=>{let s={isLoggedIn:!0,isAdmin:a.data.isAdmin,Token:String(e.data)};this.SetUserAuth(s),this.$router.push({path:"/UserProfile"})}))}}}},K=s(3744);const Q=(0,K.Z)(J,[["render",T],["__scopeId","data-v-5f8a2264"]]);var W=Q}}]);
//# sourceMappingURL=106.bbcd0ccb.js.map