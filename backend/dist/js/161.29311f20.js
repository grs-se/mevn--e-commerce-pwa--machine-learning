"use strict";(self["webpackChunkolx_vue_3"]=self["webpackChunkolx_vue_3"]||[]).push([[161],{4161:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var l=s(6252),n=s(3577),a=s(9963);const i=t=>((0,l.dD)("data-v-36026c82"),t=t(),(0,l.Cn)(),t),c={class:"col-sm-12 col-md-9 col-md-offset-1"},o={class:"table table-hover"},r=i((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Product"),(0,l._)("th",null,"Quantity"),(0,l._)("th",{class:"text-center"},"Price"),(0,l._)("th",{class:"text-center"},"Total"),(0,l._)("th")])],-1))),u={class:"col-sm-8 col-md-6"},m={class:"media"},d={class:"thumbnail pull-left",href:"#"},h=["src"],_={class:"media-body"},p={class:"media-heading"},f=["onClick"],v=i((()=>(0,l._)("span",null,"Desc : ",-1))),g={class:"text-primary"},y={class:"col-sm-2 col-md-2",style:{"text-align":"center"}},C=["onUpdate:modelValue","onChange"],I={class:"col-sm-1 col-md-1 text-center"},b={class:"col-sm-1 col-md-1 text-center"},w={class:"col-sm-1 col-md-1"},k=["onClick"],x=i((()=>(0,l._)("span",{class:"fa fa-remove"},null,-1))),D=i((()=>(0,l._)("td",null,[(0,l._)("h3",null,"Total")],-1))),T={class:"text-right"},q=i((()=>(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("button",{type:"button",class:"btn btn-default"},[(0,l._)("span",{class:"fa fa-shopping-cart"}),(0,l.Uk)(" Continue Shopping ")])]),(0,l._)("td",null,[(0,l._)("button",{type:"button",class:"btn btn-success"},[(0,l.Uk)(" Checkout "),(0,l._)("span",{class:"fa fa-play"})])])],-1)));function P(t,e,s,i,P,U){const A=(0,l.up)("center");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(A,null,{default:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l._)("table",o,[r,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(P.items,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t._id},[(0,l._)("td",u,[(0,l._)("div",m,[(0,l._)("a",d,[(0,l._)("img",{src:t.product_img,class:"media-object",style:{width:"72px",height:"72px"}},null,8,h)]),(0,l._)("div",_,[(0,l._)("h4",p,[(0,l._)("a",{class:"ab",onClick:e=>U.MoveToDetails(t._id)},(0,n.zw)(U.NameFilters(t.name)),9,f)]),v,(0,l._)("span",g,[(0,l._)("strong",null,(0,n.zw)(U.DescFilters(t.desc)),1)])])])]),(0,l._)("td",y,[(0,l.wy)((0,l._)("input",{id:"exampleInputEmail1","onUpdate:modelValue":e=>t.quantity=e,type:"number",class:"form-control",onChange:e=>U.CheckNewQuantity(t._id,e)},null,40,C),[[a.nr,t.quantity]])]),(0,l._)("td",I,[(0,l._)("strong",null,"£ "+(0,n.zw)(t.price),1)]),(0,l._)("td",b,[(0,l._)("strong",null,"£"+(0,n.zw)(t.price*t.quantity),1)]),(0,l._)("td",w,[(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:e=>U.RemoveItem(t._id)},[x,(0,l.Uk)(" Remove ")],8,k)])])))),128)),(0,l._)("tr",null,[D,(0,l._)("td",T,[(0,l._)("h3",null,[(0,l._)("strong",null,"£"+(0,n.zw)(P.TotalItemsPrice),1)])])]),q])])])])),_:1})])}s(7658);var U=s(8945),A=s(3907);const F="https://olx-vue.herokuapp.com/api";var M={name:"CartView",data(){return{TotalItemsPrice:0,items:[]}},computed:{...(0,A.Se)(["AllCartItems"])},watch:{items:function(){this.TotalPrice()}},created(){this.GetProductsInCart()},mounted(){},methods:{...(0,A.nv)(["ChangeItemQuantity","RemoveItemFromCart","GetProdById","GetCartItem","SetUserMovementCart"]),GetProductsInCart:function(){this.GetCartItem();let t=this.AllCartItems,e=[];for(let s=0;s<t.length;s++){const l=t[s];U.Z.get(`${F}/products/${l.id}`).then((t=>{let s=this.AllCartItems.findIndex((e=>e.id==t.data._id)),l=this.AllCartItems[s].quantity;t.data.quantity=l,e.push(t.data)}))}this.items=e},CheckNewQuantity:function(t,e){if(0==e.target.value){let e=this.items.map((e=>e._id==t?Object.assign({},e,{quantity:1}):e));this.items=e}else{let s=this.items.map((s=>s._id==t?Object.assign({},s,{quantity:e.target.value}):s)),l={ID:t,quantity:Number(e.target.value)};this.ChangeItemQuantity(l),this.items=s}},MoveToDetails:function(t){this.$router.push({path:"/SpecificItem",name:"SpecificItem",query:{ID:t}}).catch((()=>{}))},RemoveItem:function(t){let e=this.items.filter((e=>e._id!=t));this.items=e,this.RemoveItemFromCart(t),this.AddToUserMovements(t)},TotalPrice:function(){const t=[];for(let s=0;s<this.items.length;s++){let e=parseInt(this.items[s].price)*parseInt(this.items[s].quantity);t.push(parseInt(e))}let e=t.reduce((function(t,e){return t+e}),0);this.TotalItemsPrice=e},AddToUserMovements:function(t){this.SetUserMovementCart(t)},DescFilters(t){return t.split(" ")[0]+""+t.split(" ")[1]+" "+t.split(" ")[2]+"..."},NameFilters(t){return t.split(" ")[1]?t.split(" ")[0]+""+t.split(" ")[1]:t.split(" ")[0]}}},S=s(3744);const z=(0,S.Z)(M,[["render",P],["__scopeId","data-v-36026c82"]]);var G=z}}]);
//# sourceMappingURL=161.29311f20.js.map