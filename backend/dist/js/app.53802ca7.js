(function(){"use strict";var e={1805:function(e,t,n){var a=n(9963),o=n(6252);const r={id:"app"};function s(e,t,n,a,s,i){const c=(0,o.up)("header-view"),u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(c),(0,o.Wm)(u)])}var i=n(3577);const c=e=>((0,o.dD)("data-v-ba3bb8c0"),e=e(),(0,o.Cn)(),e),u={class:"navbar navbar-expand-lg navbar-light bg-light"},l=c((()=>(0,o._)("span",{class:"navbar-toggler-icon"},null,-1))),d=[l],m=c((()=>(0,o._)("ul",{class:"navbar-nav mr-auto"},null,-1))),g={class:"form-inline my-2 my-lg-0"},h=c((()=>(0,o._)("button",{class:"btn btn-outline-primary my-2 my-sm-2 m-2"}," Login | Register ",-1))),p=c((()=>(0,o._)("button",{class:"btn btn-outline-warning my-2 my-sm-2 m-2"}," Cart ",-1))),f=c((()=>(0,o._)("button",{class:"btn btn-outline-danger my-2 my-sm-2 m-2"}," Admin ",-1))),S=c((()=>(0,o._)("button",{class:"btn btn-outline-dark my-2 my-sm-2 m-2"}," Profile ",-1)));function v(e,t,n,a,r,s){const c=(0,o.up)("router-link"),l=(0,o.up)("search-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("nav",u,[(0,o.Wm)(c,{to:"/",class:"navbar-brand"},{default:(0,o.w5)((()=>[(0,o.Uk)("The App")])),_:1}),(0,o._)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:t[0]||(t[0]=e=>r.isActive=!r.isActive)},d),(0,o._)("div",{class:(0,i.C_)([r.isActive?"collapse navbar-collapse show":"collapse navbar-collapse"])},[m,(0,o._)("form",g,[(0,o.Wm)(l),r.auth.isUserLoggedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(c,{key:0,to:"/LoginRegister"},{default:(0,o.w5)((()=>[h])),_:1})),r.auth.isUserLoggedIn?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"btn btn-outline-danger my-2 my-sm-2 m-2",onClick:t[1]||(t[1]=(...e)=>s.LogOutUser&&s.LogOutUser(...e))}," Logout ")):(0,o.kq)("",!0),(0,o.Wm)(c,{to:"/Cart"},{default:(0,o.w5)((()=>[p])),_:1}),r.auth.isUserLoggedIn?((0,o.wg)(),(0,o.j4)(c,{key:2,to:"/Admin"},{default:(0,o.w5)((()=>[f])),_:1})):(0,o.kq)("",!0),r.auth.isUserLoggedIn?((0,o.wg)(),(0,o.j4)(c,{key:3,to:"/UserProfile"},{default:(0,o.w5)((()=>[S])),_:1})):(0,o.kq)("",!0)])],2)])])}function y(e,t,n,r,s,i){return(0,o.wg)(),(0,o.iD)("i",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.SearchData=e),class:"form-control mr-sm-0",type:"search",placeholder:"Search","aria-label":"Search"},null,512),[[a.nr,s.SearchData]]),(0,o._)("button",{class:"btn btn-outline-success my-2 my-sm-2",onClick:t[1]||(t[1]=e=>i.Search(e))}," Search ")])}n(7658);var I={name:"SearchView",data(){return{SearchData:""}},methods:{Search(e){e.preventDefault(),this.$router.push({path:"/SearchProduct",name:"SearchProduct",query:{SData:this.SearchData}}).catch((()=>{}))}}},b=n(3744);const A=(0,b.Z)(I,[["render",y]]);var C=A,U=n(3907),L={name:"HeaderView",components:{SearchView:C},data(){return{isActive:!1,auth:{isUserLoggedIn:!1,isUserAdmin:!1}}},computed:{...(0,U.Se)(["UserAuth"])},created(){this.GetUserData(),this.$store.watch((e=>{console.log("storeChange",e),this.StoreDataChange(e)}))},methods:{...(0,U.nv)(["GetUserAuth","SetUserAuth"]),GetUserData(){this.GetUserAuth(),this.auth.isUserLoggedIn=this.UserAuth.isLoggedIn,this.auth.isUserAdmin=this.UserAuth.isAdmin,console.log("Auth from store",this.auth)},LogOutUser(){let e={isLoggedIn:!1,isAdmin:!1};this.auth={isUserLoggedIn:!1,isUserAdmin:!1},this.SetUserAuth(e)},StoreDataChange(e){let t=e.Authentication.isAuthenticated;this.auth={isUserLoggedIn:t.isLoggedIn,isUserAdmin:t.isAdmin}}}};const k=(0,b.Z)(L,[["render",v],["__scopeId","data-v-ba3bb8c0"]]);var N=k,O={name:"App",components:{HeaderView:N},created(){this.GetCartItem()},methods:{...(0,U.nv)(["GetCartItem"])}};const P=(0,b.Z)(O,[["render",s]]);var _=P,w=n(2201);function x(e,t,n){if(localStorage.getItem("Auth")){let e=JSON.parse(localStorage.getItem("Auth"));e.isLoggedIn&&n()}else n({path:"/LoginRegister",name:"LoginRegister"})}var D=x;function T(e,t,n){if(localStorage.getItem("Auth")){let e=JSON.parse(localStorage.getItem("Auth"));e.isAdmin&&n()}else n({path:"/"})}var $=T;function J(e,t,n){if(localStorage.getItem("Auth")){let e=JSON.parse(localStorage.getItem("Auth"));!1===e.isLoggedIn&&n()}localStorage.getItem("Auth")?n({path:"/UserProfile",name:"UserProfile"}):n()}var j=J;const E=()=>n.e(93).then(n.bind(n,6093)),Z=()=>n.e(33).then(n.bind(n,3033)),M=()=>n.e(161).then(n.bind(n,4161)),G=()=>n.e(106).then(n.bind(n,3106)),R=()=>n.e(862).then(n.bind(n,862)),B=()=>n.e(962).then(n.bind(n,2962)),q=()=>n.e(292).then(n.bind(n,6292)),W=[{path:"/",name:"Main",component:E},{path:"/SpecificItem",name:"SpecificItem",component:Z},{path:"/Cart",name:"Cart",component:M},{path:"/LoginRegister",name:"LoginRegister",component:G,beforeEnter:(e,t,n)=>{j(e,t,n)}},{path:"/UserProfile",name:"UserProfile",component:R,beforeEnter:(e,t,n)=>{D(e,t,n)}},{path:"/SearchProduct",name:"SearchProduct",component:B},{path:"/Admin",name:"Admin",component:q,beforeEnter:(e,t,n)=>{$(e,t,n)}}],F=(0,w.p7)({history:(0,w.PO)(),routes:W});var V=F,H=n(407),K=(n(5426),n(541),n(8945));const Q="https://olx-vue.herokuapp.com/api",z={ProductsList:[],non:""},X={AllProducts:e=>e.ProductsList},Y={async GetProducts({commit:e}){K.Z.get(`${Q}/products/ProdByPage/1`).then((t=>{e("setProducts",t.data)}))},async GetProdById({commit:e},t){K.Z.get(`${Q}/products/${t}`).then((t=>(e("non"),t.data)))},async GetProdByPageNum({commit:e},t){K.Z.get(`${Q}/products/ProdByPage/${t}`).then((t=>{e("SetProdByPageNum",t.data)}))},async ADD_NEW_PRODUCT({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.post(`${Q}/products`,t,{headers:{"x-auth-token":n}}).then((t=>{e("NewProducts",t.data)})).catch((e=>{alert(e.response.data)}))},async EditOneProduct({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.put(`${Q}/products/${t._id}`,t,{headers:{"x-auth-token":n}}).then((()=>{let n=z.ProductsList.findIndex((e=>e._id==t._id)),a=t.name,o=t.prod_categories,r=t.desc,s=t.price,i=t.product_img,c={objIndex:n,name:a,prod_categories:o,desc:r,price:s,product_img:i};e("EditOneProduct",c)}))},async DeleteOneProduct({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z["delete"](`${Q}/products/${t._id}`,t,{headers:{"x-auth-token":n}}).then((n=>{console.log("Deleted product successfully",n.data);let a=z.ProductsList.filter((e=>e.id!=t.ID));e("ResetAndDelete",a)}))}},ee={setProducts:(e,t)=>e.ProductsList=t,NewProducts:(e,t)=>e.ProductsList.unshift(t),EditOneProduct:(e,t)=>(e.ProductsList[t.objIndex].name=t.name,e.ProductsList[t.objIndex].prod_categories=t.prod_categories,e.ProductsList[t.objIndex].desc=t.desc,e.ProductsList[t.objIndex].price=t.price,e.ProductsList[t.objIndex].product_img=t.product_img),ResetAndDelete:(e,t)=>e.ProductsList=t,SetProdByPageNum:(e,t)=>e.ProductsList=t,non:e=>e.non=""};var te={state:z,getters:X,actions:Y,mutations:ee};const ne="https://olx-vue.herokuapp.com/api",ae={CategoriesList:[],non:""},oe={AllCategories:e=>e.CategoriesList},re={async GetCategories({commit:e}){K.Z.get(`${ne}/categories/CatByPage/1`).then((t=>{e("setCategories",t.data)}))},async GetCatByPageNum({commit:e},t){K.Z.get(`${ne}/categories/CatByPage/${t}`).then((t=>{e("setCategories",t.data)}))},async ADD_NEW_CAT({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.post(`${ne}/categories`,{name:t.NewCatName},{headers:{"x-auth-token":n}}).then((t=>{e("NewCategories",t.data)}))},async EditOneCat({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.put(`${ne}/categories/${t.ID}`,{name:t.NewCatName},{headers:{"x-auth-token":n}}).then((()=>{let n=ae.CategoriesList.findIndex((e=>e._id===t.ID)),a=t.NewCatName,o={objIndex:n,name:a};e("EditOneCategory",o)})).catch((e=>{console.log(e.response.data.msg)}))},async DeleteOneCat({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z["delete"](`${ne}/categories/${t.ID}`,{headers:{"x-auth-token":n}}).then((n=>{console.log("data.ID",t.ID),console.log("Deleted Cat successfully",n.data);let a=ae.CategoriesList.filter((e=>e._id!=t.ID));e("ResetAndDelete",a)})).catch((e=>{console.log(e.response.data.msg)}))},async GetCatById({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.get(`${ne}/categories/${t}`,{headers:{"x-auth-token":n}}).then((t=>(e("non"),t.data)))}},se={setCategories:(e,t)=>e.CategoriesList=t,NewCategories:(e,t)=>e.CategoriesList.unshift(t),EditOneCategory:(e,t)=>e.CategoriesList[t.objIndex].name=t.name,ResetAndDelete:(e,t)=>e.CategoriesList=t,non:e=>e.non=""};var ie={state:ae,getters:oe,actions:re,mutations:se};const ce={OriginalCartListData:[],non:""},ue={AllCartItems:e=>e.OriginalCartListData},le={async GetCartItem({commit:e}){if(localStorage.getItem("Cart")){const t=JSON.parse(localStorage.getItem("Cart"));e("SetNew",t)}else{let t=[];const n=localStorage.setItem("Cart",JSON.stringify(t));e("SetNew",n)}},async SetNewCartItem({commit:e},t){let n=1;if(localStorage.getItem("Cart")){let a={id:t,quantity:n},o=JSON.parse(localStorage.getItem("Cart")),r=o.findIndex((e=>e.id==t));if(-1!==r){let e=o.findIndex((e=>e.id==t));o[e].quantity++,localStorage.setItem("Cart",JSON.stringify(o))}else o.push(a),localStorage.setItem("Cart",JSON.stringify(o));e("SetNew",o)}else{let a=[{id:t,quantity:n}];localStorage.setItem("Cart",JSON.stringify(a)),e("SetNew",a)}},async ChangeItemQuantity({commit:e},t){if(localStorage.getItem("Cart")){let n=JSON.parse(localStorage.getItem("Cart")),a=n.findIndex((e=>e.id==t.ID));if(-1!==a){let a=n.findIndex((e=>e.id==t.ID));n[a].quantity=t.quantity,localStorage.setItem("Cart",JSON.stringify(n)),e("SetNew",n)}}},async RemoveItemFromCart({commit:e},t){if(localStorage.getItem("Cart")){let n=JSON.parse(localStorage.getItem("Cart")),a=n.findIndex((e=>e.id==t));-1!==a&&(n=n.filter((e=>e.id!==t)),localStorage.setItem("Cart",JSON.stringify(n)),e("SetNew",n))}},async CheckIfInCart({commit:e},t){if(localStorage.getItem("Cart")){let n,a=JSON.parse(localStorage.getItem("Cart")),o=a.findIndex((e=>e.id==t));return-1!==o&&(n=!0),-1==o&&(n=!1),e("non"),n}}},de={SetNew:(e,t)=>e.OriginalCartListData=t,non:e=>e.non=""};var me={state:ce,getters:ue,actions:le,mutations:de};const ge={isAuthenticated:{isLoggedIn:!1,isAdmin:!1,Token:null}},he={UserAuth:e=>e.isAuthenticated},pe={async SetUserAuth({commit:e},t){let n={isLoggedIn:t.isLoggedIn,isAdmin:t.isAdmin,Token:t.Token};localStorage.setItem("Auth",JSON.stringify(n)),e("SetAndGetUserAuthStatus",n)},async GetUserAuth({commit:e}){if(localStorage.getItem("Auth")){let t=JSON.parse(localStorage.getItem("Auth"));e("SetAndGetUserAuthStatus",t)}}},fe={SetAndGetUserAuthStatus:(e,t)=>(e.isAuthenticated.isAdmin=t.isAdmin,e.isAuthenticated.isLoggedIn=t.isLoggedIn,e.isAuthenticated.Token=t.Token)};var Se={state:ge,getters:he,actions:pe,mutations:fe};const ve="https://olx-vue--machine-learning.herokuapp.com/api",ye={UserMovement:{Search:[],Cart:[],Items:[]}},Ie={AllUserMovement:e=>e.UserMovement},be={async SetUserMovementSearch({commit:e}){let t=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.get(`${ve}/machine_learning/SearchData`,{headers:{"x-auth-token":t}}).then((t=>{console.log("Result",t.data),e("SetUserMovementSearch","")}))},async SetUserMovementCart({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.patch(`${ve}/machine_learning/ml_cart/${t}`,{},{headers:{"x-auth-token":n}}).then((n=>{console.log("Result",n.data),e("SetUserMovementCart",t)}))},async SetUserMovementItem({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.patch(`${ve}/machine_learning/ml_products/${t}`,{headers:{"x-auth-token":n}}).then((n=>{console.log("Result",n.data),e("SetUserMovementItem",t)}))}},Ae={SetUserMovementSearch:(e,t)=>e.UserMovement.Search.unshift(t),SetUserMovementCart:(e,t)=>e.UserMovement.Cart=t,SetUserMovementItem:(e,t)=>e.UserMovement.Items.unshift(t)};var Ce={state:ye,getters:Ie,actions:be,mutations:Ae};const Ue="https://olx-vue.herokuapp.com/api",Le={UsersList:[]},ke={AllUsers:e=>e.UsersList},Ne={async GetUserList({commit:e}){let t=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.get(`${Ue}/users/1`,{headers:{"x-auth-token":t}}).then((t=>{console.log("UserList",t.data),e("SetUserList",t.data)}))},async GetUserByPageNum({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.get(`${Ue}/users/${t}`,{headers:{"x-auth-token":n}}).then((t=>{console.log("UserList by pageNum",t.data),e("SetUserList",t.data)}))},async EditOneUser({commit:e},t){let n=JSON.parse(localStorage.getItem("Auth")).Token;K.Z.put(`${Ue}/users/Role`,{_id:t.ID,isAdmin:t.isAdmin},{headers:{"x-auth-token":n}}).then((()=>{let n=Le.UsersList.findIndex((e=>e.id==t._id)),a=t.isAdmin,o={objIndex:n,isAdmin:a};e("EditOneUser",o)}))}},Oe={SetUserList:(e,t)=>e.UsersList=t,EditOneUser:(e,t)=>e.UsersList[t.objIndex].isAdmin=t.isAdmin};var Pe={state:Le,getters:ke,actions:Ne,mutations:Oe};const _e=(0,U.MT)({modules:{Products:te,Categories:ie,Cart:me,Authentication:Se,UserMovement:Ce,Users:Pe}});var we=_e;(0,a.ri)(_).use(we).use(V).use(H.Z).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,r){if(!a){var s=1/0;for(l=0;l<e.length;l++){a=e[l][0],o=e[l][1],r=e[l][2];for(var i=!0,c=0;c<a.length;c++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(i=!1,r<s&&(s=r));if(i){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[a,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{33:"bd071920",93:"0db8e489",106:"bbcd0ccb",161:"29311f20",292:"a8ca304c",862:"96f92018",962:"9cf878ed"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{33:"a61a4f69",93:"ad87ebcb",106:"9db891a4",161:"8bb2dfa9",292:"787c4342",862:"7f7e6911"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="olx-vue-3:";n.l=function(a,o,r,s){if(e[a])e[a].push(o);else{var i,c;if(void 0!==r)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+r){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+r),i.src=a),e[a]=[o];var m=function(t,n){i.onerror=i.onload=null,clearTimeout(g);var o=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(n)})),t)return t(n)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,a,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var s=function(n){if(r.onerror=r.onload=null,"load"===n.type)a();else{var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,r.parentNode.removeChild(r),o(c)}};return r.onerror=r.onload=s,r.href=t,n?n.parentNode.insertBefore(r,n.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=n[a],r=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){o=s[a],r=o.getAttribute("data-href");if(r===e||r===t)return o}},a=function(a){return new Promise((function(o,r){var s=n.miniCssF(a),i=n.p+s;if(t(s,i))return o();e(a,i,null,o,r)}))},o={143:0};n.f.miniCss=function(e,t){var n={33:1,93:1,106:1,161:1,292:1,862:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=a(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,a){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var r=new Promise((function(n,a){o=e[t]=[n,a]}));a.push(o[2]=r);var s=n.p+n.u(t),i=new Error,c=function(a){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var r=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,o[1](i)}};n.l(s,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,s=a[0],i=a[1],c=a[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var l=c(n)}for(t&&t(a);u<s.length;u++)r=s[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},a=self["webpackChunkolx_vue_3"]=self["webpackChunkolx_vue_3"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(1805)}));a=n.O(a)})();
//# sourceMappingURL=app.53802ca7.js.map