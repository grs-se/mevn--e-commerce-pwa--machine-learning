"use strict";(self["webpackChunkolx_vue_3"]=self["webpackChunkolx_vue_3"]||[]).push([[862],{862:function(e,a,t){t.r(a),t.d(a,{default:function(){return Z}});var s=t(6252),l=t(3577),r=t(9963);const n=e=>((0,s.dD)("data-v-330f5831"),e=e(),(0,s.Cn)(),e),o={class:"s"},i={key:0},d=["src"],c={class:"container"},u={class:"row"},m={class:"col-md-8 d"},h={class:"s"},p={class:"s"},U={class:"s"},_={class:"s"},g={class:"s"},D={key:1},f=["src"],k={class:"fileUpload"},y=n((()=>(0,s._)("span",null,"Upload",-1))),v={class:"container"},w={class:"row"},E={class:"col-md-8 d"},N={class:"s"},b={class:"s"},S={class:"s"},C={class:"s"},z=n((()=>(0,s._)("option",null,"male",-1))),A=n((()=>(0,s._)("option",null,"fmale",-1))),M=[z,A],B={class:"s"},x={class:"col-md-6"},G={class:"form-group"};function L(e,a,t,n,z,A){const L=(0,s.up)("center");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[(0,s._)("h4",o,[(0,s.Uk)(" UserProfile "),z.EditMode?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-danger",onClick:a[0]||(a[0]=(...e)=>A.EditData&&A.EditData(...e))}," Edit ")):(0,s.kq)("",!0),z.EditMode?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-info",onClick:a[1]||(a[1]=(...e)=>A.SaveData&&A.SaveData(...e))}," Save "))]),z.EditMode?((0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("img",{class:"img col col-sm-2",alt:"",src:z.UserData.imgSrc},null,8,d),(0,s._)("div",c,[(0,s._)("div",u,[(0,s._)("div",m,[(0,s._)("h3",null,[(0,s.Uk)(" First Name : "),(0,s._)("strong",h,(0,l.zw)(z.UserData.firstName),1)]),(0,s._)("h3",null,[(0,s.Uk)(" Last Name : "),(0,s._)("strong",p,(0,l.zw)(z.UserData.lastName),1)]),(0,s._)("h3",null,[(0,s.Uk)(" Email : "),(0,s._)("strong",U,(0,l.zw)(z.UserData.Email),1)]),(0,s._)("h3",null,[(0,s.Uk)(" Gender : "),(0,s._)("strong",_,(0,l.zw)(z.UserData.Gender),1)]),(0,s._)("h3",null,[(0,s.Uk)(" Birth Day : "),(0,s._)("strong",g,(0,l.zw)(z.UserData.BDay),1)])])])])])):(0,s.kq)("",!0),z.EditMode?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",D,[(0,s._)("img",{class:"img col",src:z.UserData.imgSrc,alt:""},null,8,f),(0,s._)("div",k,[(0,s._)("input",{type:"file",class:"upload",enctype:"multipart/form-data",onChange:a[2]||(a[2]=(...e)=>A.onFileChange&&A.onFileChange(...e))},null,32),y]),(0,s._)("div",v,[(0,s._)("div",w,[(0,s._)("div",E,[(0,s._)("h3",null,[(0,s.Uk)(" First Name : "),(0,s._)("strong",N,(0,l.zw)(z.UserData.firstName),1),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>z.UserData.firstName=e),class:"form-control",placeholder:"first name",type:"text"},null,512),[[r.nr,z.UserData.firstName]])]),(0,s._)("h3",null,[(0,s.Uk)(" Last Name : "),(0,s._)("strong",b,(0,l.zw)(z.UserData.lastName),1),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>z.UserData.lastName=e),class:"form-control",placeholder:"last name",type:"text"},null,512),[[r.nr,z.UserData.lastName]])]),(0,s._)("h3",null,[(0,s.Uk)(" Email : "),(0,s._)("strong",S,(0,l.zw)(z.UserData.Email),1),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>z.UserData.Email=e),class:"form-control",placeholder:"email",type:"email",disabled:""},null,512),[[r.nr,z.UserData.Email]])]),(0,s._)("h3",null,[(0,s.Uk)(" Gender : "),(0,s._)("strong",C,(0,l.zw)(z.UserData.Gender),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>z.UserData.Gender=e),class:"form-control"},M,512),[[r.bM,z.UserData.Gender]])]),(0,s._)("h3",null,[(0,s.Uk)(" Birth Day : "),(0,s._)("strong",B,(0,l.zw)(z.UserData.Bday),1),(0,s._)("div",x,[(0,s._)("div",G,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>z.UserData.BDay=e),type:"date",class:"form-control"},null,512),[[r.nr,z.UserData.BDay]])])])])])])])])),(0,s._)("button",{class:"btn btn-danger",onClick:a[8]||(a[8]=(...e)=>A.DelAccount&&A.DelAccount(...e))},"Delete Account")])),_:1})])}t(7658);var O=t(8945),F=t(3907);const I="https://olx-vue.herokuapp.com/api";var V={name:"UserProfile",data(){return{EditMode:!0,UserData:{},files:null,fileReaderBase64:null}},created(){const e=JSON.parse(localStorage.getItem("Auth")).Token;O.Z.get(`${I}/users/UserData`,{headers:{"x-auth-token":e}}).then((e=>{let a=e.data,t={userID:a._id,firstName:a.first_name,lastName:a.last_name,Email:a.email,Gender:a.gender,BDay:a.birth_day,imgSrc:a.profile_img};this.UserData=t})).catch((e=>{console.log("err",e.response.data.msg)}))},methods:{...(0,F.nv)(["SetUserAuth"]),SaveData:function(){this.EditMode=!this.EditMode;const e=JSON.parse(localStorage.getItem("Auth")).Token,a=new FormData;if(a.append("first_name",this.UserData.firstName),a.append("last_name",this.UserData.lastName),a.append("email",this.UserData.Email),a.append("gender",this.UserData.Gender),a.append("birth_day",this.UserData.Bday),a.append("profile_img",this.UserData.imgSrc),null!==this.files)for(const t of Object.keys(this.files))a.append("image",this.files[t]);O.Z.put(`${I}/users/`,a,{headers:{"x-auth-token":e,"Content-Type":"multipart/form-data"}}).then((e=>{console.log("res updated user data",e.data)})).catch((e=>{console.log("err",e.response.data.msg)}))},EditData:function(){this.EditMode=!this.EditMode},onFileChange(e){this.UserData.imgSrc=URL.createObjectURL(e.target.files[0]),this.files=e.target.files},DelAccount(){const e=JSON.parse(localStorage.getItem("Auth")).Token;O.Z["delete"](`${I}/users/`,{headers:{"x-auth-token":e}}).then((e=>{console.log("Deleted user successfully",e.data),this.LogOutUser()})).catch((e=>{console.log("err",e.response.data.msg)}))},LogOutUser(){let e={isLoggedIn:!1,isAdmin:!1};this.SetUserAuth(e),this.$router.push({path:"/"})}}},q=t(3744);const T=(0,q.Z)(V,[["render",L],["__scopeId","data-v-330f5831"]]);var Z=T}}]);
//# sourceMappingURL=862.96f92018.js.map