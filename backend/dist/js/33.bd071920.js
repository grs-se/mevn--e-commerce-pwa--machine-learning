"use strict";(self["webpackChunkolx_vue_3"]=self["webpackChunkolx_vue_3"]||[]).push([[33],{3033:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var a=s(6252),i=s(3577);const r=t=>((0,a.dD)("data-v-78d12d2f"),t=t(),(0,a.Cn)(),t),n={key:0,class:"card"},d=["src"],m={class:"card-body"},l={class:"card-title"},u={class:"card-text"},c=r((()=>(0,a._)("i",{class:"fas fa-tags"},null,-1)));function o(t,e,s,r,o,I){const h=(0,a.up)("center");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[o.isLoaded?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("img",{class:"card-img-top",src:o.ResultItems.imgSrc,alt:"Card image cap"},null,8,d),(0,a._)("div",m,[(0,a._)("h4",l,(0,i.zw)(o.ResultItems.name),1),(0,a._)("p",u,(0,i.zw)(o.ResultItems.desc),1),(0,a._)("h4",null,"Price : Â£"+(0,i.zw)(o.ResultItems.price),1),(0,a._)("h4",null,[c,(0,a.Uk)(" : "+(0,i.zw)(o.ResultItems.CatName),1)]),o.ResultItems.InCart?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,class:"btn btn-primary",onClick:e[0]||(e[0]=(...t)=>I.ChangeItemStatus&&I.ChangeItemStatus(...t))}," Add To Card")),o.ResultItems.InCart?((0,a.wg)(),(0,a.iD)("a",{key:1,class:"btn btn-danger",onClick:e[1]||(e[1]=(...t)=>I.ChangeItemStatus&&I.ChangeItemStatus(...t))}," Remove From Card")):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)])),_:1})])}var I=s(3907),h=s(8945);const C="https://olx-vue.herokuapp.com/api";var R={name:"SpecificItem",data(){return{ResultItems:{id:"",imgSrc:"",name:"",price:null,desc:"",CatName:"",InCart:!0},itemData:"",isLoaded:Boolean}},created(){this.GetRouteData()},methods:{...(0,I.nv)(["GetProdById","GetCatById","GetCategories","CheckIfInCart","SetNewCartItem","RemoveItemFromCart","SetUserMovementItem","SetUserMovementCart"]),async GetRouteData(){let t=this.$route.query.ID;console.log("specific item",this.$route.query.ID),await h.Z.get(`${C}/products/${t}`).then((t=>{this.ResetDataAndGetCat(t.data)})),await this.CheckIfInCart(t).then((t=>{this.ResultItems.InCart=t,this.isLoaded=!0,this.AddToUserMovement()}))},ResetDataAndGetCat(t){this.ResultItems.id=t["_id"],this.ResultItems.imgSrc=t["product_img"],this.ResultItems.name=t["name"],this.ResultItems.price=t["price"],this.ResultItems.desc=t["desc"];let e=t["prod_categories"]._id;h.Z.get(`${C}/categories/${e}`).then((t=>{this.ResultItems.CatName=t.data.name}))},AddToUserMovement(){this.SetUserMovementItem(this.ResultItems.id)},async ChangeItemStatus(){this.isLoaded=!1,this.ResultItems.InCart=!this.ResultItems.InCart;let t=this.$route.query.ID;this.ResultItems.InCart?(this.SetNewCartItem(t),this.isLoaded=!0):(this.isLoaded=!0,this.RemoveItemFromCart(t)),this.SetUserMovementCart(t)}}},g=s(3744);const p=(0,g.Z)(R,[["render",o],["__scopeId","data-v-78d12d2f"]]);var v=p}}]);
//# sourceMappingURL=33.bd071920.js.map